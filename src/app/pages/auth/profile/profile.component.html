<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button text="" color='dark'>
        <ion-icon name="arrow-back"></ion-icon>
      </ion-back-button>
    </ion-buttons>
    <ion-buttons slot="start" color="dark">
      <ion-menu-button color="dark"></ion-menu-button>
    </ion-buttons>
    <ion-title class="ion-text-center app-name">
      <img src="./../../../assets/img/lifePlusLogo.png" alt="Life+ Logo" (click)="gotoHomePage()">
    </ion-title>
  </ion-toolbar>
</ion-header>
<!--Header Section-->
<ion-content>
  <section class="content">
    <div fxLayout="row" fxLayoutAlign="center center">
      <mat-card class="user-info">
        <mat-card-header>
          <div fxLayout="column">
            <div fxLayout="row" fxLayoutGap="30px">
              <div slot="start" class="profile-pic">
                <img src="../../../../assets/img/profile-icon.png" alt="profil-pic">
              </div>
              <div fxLayout="column" class="profile-desc ">
                <div>
                  <mat-card-title class="uname">{{userName}}
                    <ion-icon name="create-outline"></ion-icon>
                  </mat-card-title>
                </div>
                <div>
                  <mat-card-title class="label">Coverage</mat-card-title>
                  <p class="label_desc">30-years term policy</p>
                </div>
                <div>
                  <mat-card-title class="label">Service</mat-card-title>
                  <p class="label_desc">Prudential</p>
                </div>
              </div>
            </div>
            <!-- column -->
            <div class="profile-desc">
              <div fxLayout="row" fxLayoutGap="100px">
                <div>
                  <mat-card-title class="label">Policy</mat-card-title>
                  <p class="label_desc">$500,000</p>
                </div>
                <div>
                  <mat-card-title class="label">Monthly Premium</mat-card-title>
                  <p class="label_desc">$25</p>
                </div>
              </div>
              <div fxLayout="row" fxLayoutGap="60px">
                <div>
                  <mat-card-title class="label">Payment Made</mat-card-title>
                  <p class="label_desc">2</p>
                </div>
                <div>
                  <mat-card-title class="label">Payments Left</mat-card-title>
                  <p class="label_desc">358</p>
                </div>
              </div>
            </div>
            <!-- colum -->
          </div>
        </mat-card-header>
        <mat-card-content>
          <div class="progress-indicator">
            <mat-label>{{ progress + '%' }}</mat-label>
          </div>
          <mat-progress-bar mode="determinate" color="secondary" [value]="progress"></mat-progress-bar>
        </mat-card-content>
      </mat-card>
    </div>
    <!-- chart -->
    <div class="wrapper">
      <ion-card class="chart">
        <ion-card-header>
        </ion-card-header>
        <ion-card-content>
          <!-- <canvas #userFinancialAssets></canvas> -->
          <canvas baseChart [data]="doughnutChartData" [labels]="doughnutChartLabels" [chartType]="doughnutChartType" [options]="donutOptions"
            [colors]="doughnutChartLegendColors" [plugins]="pieChartPlugins"></canvas>
        </ion-card-content>
      </ion-card>
      <!-- financial details  -->
      <header>
        <h2 class="cap-first-letter">{{userName +"'s "+ htmltext.profile_header }}</h2>
      </header>
      <!--  -->
      <mat-accordion class="user-financial-info">
        <ng-container *ngFor="let financeDetails of userFinancialInfo; let itemIndex = index; trackBy: trackByIndex">
          <mat-expansion-panel [ngStyle]="{'background':financeDetails.isAllQuestionsAnswered === true ? '#FFFFFF' : '#F4F4F4'}">
            <mat-expansion-panel-header class="mat-accordian-header">
              <mat-panel-title>
                {{ financeDetails.title }}
              </mat-panel-title>
              <ion-icon name="person" class="user-icon" [ngStyle]="{'color':financeDetails.isAllQuestionsAnswered === true ?'#21BA45' : '#767676'}"></ion-icon>
              <ion-icon name="checkmark" class="tick-icon" [ngStyle]="{'color':financeDetails.isAllQuestionsAnswered === true ?'#21BA45' : '#767676'}"></ion-icon>
            </mat-expansion-panel-header>
            <p class="header-txt" *ngIf="financeDetails.quesHeader">{{financeDetails.quesHeader}}</p>
            <ng-container *ngFor="let quesDetails of financeDetails.questions; let quesIndex = index; trackBy: trackByIndex">
              <div [ngSwitch]="quesDetails.element">
                <div class="ques-details my-15" *ngSwitchCase="'toggleButton'">
                  <mat-label class="que-header">{{ quesDetails.name }}</mat-label>
                  <mat-button-toggle-group name="{{'question' + quesIndex}}" ngDefaultControl aria-label="Font Style" class="custom-mat-btn-toggle-group"
                    [(ngModel)]="quesDetails.value" (ngModelChange)="trackQuesProgress($event, financeDetails.id)">
                    <mat-button-toggle value="yes" class="yes-btn">Yes</mat-button-toggle>
                    <span class="circle">or</span>
                    <mat-button-toggle value="no" class="no-btn">No</mat-button-toggle>
                  </mat-button-toggle-group>
                </div>
                <div class="ques-details input-box" *ngSwitchCase="'inputNumber'">
                  <mat-label class="que-header">{{ quesDetails.name }}</mat-label>
                  <mat-form-field appearance="outline" class="form-input-control text-right">
                    <span matPrefix class="col-dull-grey">$ &nbsp;</span>
                    <input matInput type="number" name="{{'question' + quesIndex}}" ngDefaultControl [placeholder]="quesDetails.placeholder"
                      value="" [(ngModel)]="quesDetails.value" (ngModelChange)="trackQuesProgress($event, financeDetails.id)">
                  </mat-form-field>
                  <mat-icon matTooltip={{quesDetails.name}} class="tooltip">help_outline</mat-icon>
                </div>
              </div>
            </ng-container>
          </mat-expansion-panel>
        </ng-container>
      </mat-accordion>
      <!-- -->
      <div class="mt-50" fxLayoutAlign="center center">
        <button mat-stroked-button class="btn-color">Log Out</button>
      </div>
    </div>
  </section>

  <footer class="footer" fxLayout="row" fxLayoutAlign="space-between" fxLayoutGap="40px">
    <ion-text class="align-item-bottom">
      <ion-label class="fl-footer-content">
        77 Water St 8th Floor,<br /> Manhattan, NY 10005
      </ion-label>
    </ion-text>
    <ion-text class="align-item-bottom">
      <ion-label class="fl-footer-content">
        Copyright Life+ Â© 2020
      </ion-label>
    </ion-text>
  </footer>
</ion-content>
<!-- Footer -->